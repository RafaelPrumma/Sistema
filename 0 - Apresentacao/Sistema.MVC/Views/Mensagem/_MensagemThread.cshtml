@model Sistema.APP.DTOs.MensagemThreadDto

<div class="mb-3">
    <div class="d-flex justify-content-between align-items-center">
        <div>
            <strong>@Model.RemetenteNome</strong>
            <span class="text-muted">para @Model.DestinatarioNome</span>
        </div>
        <small class="text-muted">@Model.DataInclusao.ToLocalTime().ToString("g")</small>
    </div>
    <div class="mt-2">@Model.Corpo</div>
    <div class="mt-2">
        <a class="btn btn-link p-0" href="@Url.Action("Nova", "Mensagem", new { mensagemPaiId = Model.Id, destinatarioId = Model.RemetenteId })">Responder</a>
    </div>
</div>
@if (Model.Respostas?.Any() == true)
{
    <div class="ms-4 border-start ps-3">
        @foreach (var resposta in Model.Respostas)
        {
            @await Html.PartialAsync("_MensagemThread", resposta)
        }
    </div>
}
